/*!
 * Albe-Timeline v4.0.0, https://github.com/Albejr/jquery-albe-timeline
 * ======================================================================
 * Plugin para renderização de 'linha do tempo' a partir de listas de dados em JSON
 *
 * 2017, Albertino Júnior, http://albertino.eti.br
 */
!function(e){e.fn.albeTimeline=function(t,n){this.html("");var r=e.extend({},e.fn.albeTimeline.defaults,n),s=e.fn.albeTimeline.languages.hasOwnProperty(r.language)?e.fn.albeTimeline.languages[r.language]:{days:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],shortMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],separator:"de",msgEmptyContent:"No hay información para mostrar."};if("string"==typeof t&&(t=e.parseJSON(t)),e.isEmptyObject(t))console.warn(s.msgEmptyContent);else{t=t.sort(function(e,a){return r.sortDesc?Date.parse(a.time)-Date.parse(e.time):Date.parse(e.time)-Date.parse(a.time)});var i=e("<ul>").attr("id","timeline-menu"),l=e("<section>").attr("id","timeline");e.each(t,function(t,n){var d=new Date(n.time).getFullYear(),p=(new Date).getFullYear()===d?d-1:d+1,o=e(l).find("div.group"+d);if(0===o.length){o=e("<div>").attr("id","y"+d).addClass("group"+d).text(d),e(l).append(o);var c=e("<a>").text(d),g=e("<a>").addClass("pointer").attr("id",p).text(p);i.append(e("<li>").append(g)),i.append(e("<li>").append(c))}if(n.body){var u=e("<div>").addClass("badge");u.text(a(n.time,r.formatDate,s));var f=e("<div>").addClass("panel").append(u);if(n.header){var h=e("<div>").addClass("panel-heading"),m=e("<h4>").addClass("panel-title").text(n.header);h.append(m),f.append(h)}var v=e("<div>").addClass("panel-body");if(e.each(n.body,function(a,t){var n=e("<"+t.tag+">");e(t.attr).each(function(){e.each(this,function(e,a){"cssclass"===e.toLowerCase()?n.addClass(a):n.attr(e,a)})}),t.content&&n.html(t.content),v.append(n)}),f.append(v),n.footer){var b=e("<div>").addClass("panel-footer").html(n.footer);f.append(b)}var M=o.siblings('article[id^="a'+d+'"]'),y=e('<article id="a'+d+"-"+(M.length+1)+'">').append(f);M.length>0?y.insertAfter(M.last()):y.insertAfter(o)}});var d=e("<div>").addClass("badge").html("&nbsp;"),p=e("<div>").addClass("panel").append(d);l.append(e("<article>").append(p)),l.append(e("<div>").addClass("clearfix").css({float:"none"})),e.each(l.find("article"),function(a,t){e(this).addClass(a%2==0?"":"inverted"),r.effect&&"none"!=r.effect&&e(this).addClass("animated "+r.effect)}),r.showGroup?r.showMenu&&i.appendTo(this):e.each(l.find('div[class*="group"]'),function(a,t){e(this).css("display","none")}),l.appendTo(this)}},e.fn.albeTimeline.languages={},e.fn.albeTimeline.defaults={effect:"fadeInUp",formatDate:"dd MMM",language:"pt-BR",showGroup:!0,showMenu:!0,sortDesc:!0};var a=function(e,a,n){var r=e.split(/[ :\-\/]/g),s=new Date(r[0],r[1]-1,r[2],r[3]||0,r[4]||0,r[5]||0);return n.separator&&(a=a.replace(new RegExp(n.separator,"g"),"___")),a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("ss",t(s.getSeconds(),2))).replace("s",s.getSeconds())).replace("dd",t(s.getDate(),2))).replace("d",s.getDate())).replace("mm",t(s.getMinutes(),2))).replace("m",s.getMinutes())).replace("MMMM",n.months[s.getMonth()])).replace("MMM",n.months[s.getMonth()].substring(0,3))).replace("MM",t(s.getMonth()+1,2))).replace("DD",n.days[s.getDay()])).replace("yyyy",s.getFullYear())).replace("YYYY",s.getFullYear())).replace("yy",(s.getFullYear()+"").substring(2))).replace("YY",(s.getFullYear()+"").substring(2))).replace("HH",t(s.getHours(),2))).replace("H",s.getHours()),n.separator&&(a=a.replace(new RegExp("___","g"),n.separator)),a},t=function(e,a,t){return t=t||"0",(e+="").length>=a?e:new Array(a-e.length+1).join(t)+e}}(jQuery);